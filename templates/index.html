<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>NocGen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <style>
        td {vertical-align: middle !important;}
        caption {caption-side: bottom;;}
    </style>
</head>

<body>
    <div class="container">
        <!-- alert -->
        {% if alert %}
        <div class="alert">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <span><strong>FYI</strong></span>
        </div>
        {% endif %}

        <!-- header -->
        <h1>NocGen <small>Fibonacci number generator</small></h1>
        <hr>

        <!-- main area -->
        <form class="form-inline">
            <input type="number" name="n" id="n" value="5" placeholder="Enter a number">
            <button type="submit" class="btn btn-primary">Generate</button>
        </form>

        <hr>

        <table class="table table-striped">
            <thead>
            <tr>
                <th style="width: 5%;"></th>
                <th style="width: 10%;">n</th>
                <th>Fib(n)</th>
            </tr>
            </thead>
            <tbody>
            </tbody>
            <caption class="muted"><span></span> numbers</caption>
        </table>
    </div> <!-- end container -->

    <!-- templates -->
    <script type="text/template" id="number-row">
        <td><button class="delete btn btn-small">&times;</button></td>
        <td><%= n %></td>
        <td><%= fib ? fib : "Generating..." %></td>
    </script>

    <script type="text/template" id="number-list">
        <% _.each(nums, function(num) { %>
            <tr>
                <td><input type="checkbox" id="delete-<%= num.id %>"</td>
                <td><%= num.get('n') %></td>
                <td><%= num.get('fib') %></td>
            </tr>
        <% }); %>
    </script>

    <!-- bootstrap data -->
    <script>
        {% if numbers %}
            var numbers = {{ numbers|safe }};
        {% else %}
            var numbers = null;
        {% endif %}
    </script>

    <!-- scripts at bottom for faster page loading -->
    <script src="../static/js/jquery-1.9.1.min.js"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="../static/js/underscore-min.js"></script>
    <script src="../static/js/backbone-min.js"></script>
    <script src="../static/js/app.js"></script>
</body>
</html>
